"use strict";function fakeData(){if("undefined"===typeof storage.data){var a=[];!function(){for(var b=0;b<260;b++)a.push({category:8,mode:Math.random()>.5?1:-1,abs:(1e3*Math.random()).toFixed(2),date:(new Date).setDate(22-100*Math.random())})}(),storage.data=JSON.stringify(a)}}function clearStorage(){storage.removeItem("data")}function addRecord(){window.location.href="addRecord.html"}function more(){confirm("\u5f00\u53d1\u6a21\u5f0f\uff1a\u6e05\u9664\u5168\u90e8\u6570\u636e! ")&&clearStorage()}window.localStorage||alert("\u5168\u7403\u53ea\u67097%\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u201c\u672c\u5730\u5b58\u50a8\u201d\u7279\u6027\uff0c\u5176\u4e2d\u5305\u62ec\u60a8\u3002\u60a8\u9700\u8981\u66f4\u6362\u66f4\u9ad8\u7ea7\u7684\u6d4f\u89c8\u5668\u65b9\u53ef\u4f7f\u7528\u6211\u4eec\u7684\u5e94\u7528\u3002");var storage=window.localStorage,table=document.querySelector("table");table.innerHTML="";var today=new Date;Date.prototype.today=today.getFullYear()+"/"+(today.getMonth()+1)+"/"+today.getDate(),Date.prototype.yesterday=today.getFullYear()+"/"+(today.getMonth()+1)+"/"+(today.getDate()-1),Date.prototype.format=function(){var a=this.getFullYear()+"/"+(this.getMonth()+1)+"/"+this.getDate();return a==this.today?"\u4eca\u5929":a==this.yesterday?"\u6628\u5929":a};var data;!function(){data=JSON.parse(storage.data);for(var a=0;a<data.length;a++)data[a].date=new Date(data[a].date);data.sort(function(a,b){return Date.parse(b.date)-Date.parse(a.date)})}();var categories=["\u4e00\u822c","\u996e\u98df","\u8d2d\u7269","\u5c45\u5bb6","\u624b\u673a","\u7535\u8111","\u793e\u4ea4","\u4e2a\u4eba","\u968f\u673a\u5047\u6570\u636e"],category_icons=['<i class="icono-tag"></i>','<i class="icono-cup"></i>','<i class="icono-cart"></i>','<i class="icono-home"></i>','<i class="icono-nexus"></i>','<i class="icono-macbookBold"></i>','<i class="icono-smile"></i>','<i class="icono-user"></i>','<i class="icono-exclamation"></i>'];!function(){for(var a=0,b=0;b<data.length;b++)table.innerHTML+='<tr><td class="icon">'+category_icons[data[b].category]+'</td><td class="category">'+categories[data[b].category]+'</td><td class="record '+(-1===data[b].mode?'cost">-':'earn">+')+data[b].abs+'</td><td class="date">'+data[b].date.format()+"</td></tr>",a+=parseFloat(data[b].abs)*data[b].mode,console.log(parseFloat(data[b].abs)*data[b].mode);document.querySelector("div#overview").innerText=a.toFixed(2)}();